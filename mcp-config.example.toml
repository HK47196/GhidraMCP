# GhidraMCP Configuration File Example
# Copy this file to 'mcp-config.toml' and customize as needed

# Server configuration (optional - can also use command-line arguments)
[server]
# Ghidra server URL
ghidra_server = "http://127.0.0.1:8080/"

# Request timeout in seconds
request_timeout = 60

# Tool configuration
[tools]
# ============================================================================
# OPTION 1: Enable/Disable by Category
# ============================================================================
# Control tools by category. Set to false to disable all tools in that category.

# Query tools: list_methods, list_classes, list_segments, list_imports, etc.
enable_query = true

# Decompile tools: decompile_function, disassemble_function, etc.
enable_decompile = true

# Search tools: search_functions_by_name, search_data_by_name, etc.
enable_search = true

# Modification tools: rename_function, set_data_type, set_function_prototype, etc.
# WARNING: These tools modify the Ghidra database
enable_modification = true

# BSim tools: bsim_select_database, bsim_query_function, etc.
enable_bsim = true

# Struct tools: create_struct, add_struct_field, delete_struct, etc.
enable_struct = true

# Bulk operations: bulk_operations
enable_bulk = true

# ============================================================================
# OPTION 2: Explicit Tool Lists (overrides category settings)
# ============================================================================
# If you specify enabled_tools, ONLY those tools will be available.
# Comment out or remove this section to use category-based control instead.

# enabled_tools = [
#     "list_methods",
#     "list_classes",
#     "decompile_function",
#     "search_functions_by_name",
#     "get_current_function",
# ]

# ============================================================================
# OPTION 3: Disable Specific Tools (used with category settings)
# ============================================================================
# Disable individual tools while keeping their category enabled.
# This option is ignored if enabled_tools is specified.

# disabled_tools = [
#     "rename_function",
#     "delete_struct",
#     "bsim_disconnect",
# ]

# ============================================================================
# EXAMPLE CONFIGURATIONS
# ============================================================================

# Example 1: Read-only mode (no modifications allowed)
# [tools]
# enable_query = true
# enable_decompile = true
# enable_search = true
# enable_modification = false
# enable_bsim = true
# enable_struct = false
# enable_bulk = false

# Example 2: Decompilation and analysis only
# [tools]
# enabled_tools = [
#     "list_methods",
#     "list_functions",
#     "decompile_function",
#     "decompile_function_by_address",
#     "disassemble_function",
#     "search_functions_by_name",
#     "get_xrefs_to",
#     "get_xrefs_from",
# ]

# Example 3: Enable everything except dangerous operations
# [tools]
# enable_query = true
# enable_decompile = true
# enable_search = true
# enable_modification = true
# enable_bsim = true
# enable_struct = true
# enable_bulk = true
# disabled_tools = [
#     "bulk_operations",
#     "delete_struct",
# ]
